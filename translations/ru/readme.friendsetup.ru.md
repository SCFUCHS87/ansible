
> üåç –≠—Ç–æ—Ç README —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞Ôºö [üá∑üá∫ –†—É—Å—Å–∫–∏–π](translations/ru/readme.friendsetup.ru.md)

---

## üß© –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–•–æ—Ç–∏—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è?

```bash
curl -sL httpsÔºö//raw.githubusercontent.com/SCFUCHS87/ansible/friend-setup/install_friend_setup.sh | bash
```

# Friend SetupÔºö Home Assistant + Homebridge (x86 —á–µ—Ä–µ–∑ Ansible + Docker)

–≠—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Ansible playbook –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Docker, Home Assistant –∏ Homebridge –Ω–∞ —á–∏—Å—Ç–æ–π x86 Linux —Å–∏—Å—Ç–µ–º–µ. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Docker, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏, –∞ –∑–∞—Ç–µ–º —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç, —Ö–æ—Ç–∏—Ç–µ –ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Home Assistant, Homebridge –∏–ª–∏ –æ–±–∞.

---

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç](#—á—Ç–æ-—ç—Ç–æ-–¥–µ–ª–∞–µ—Ç)
- [–í–∫–ª—é—á–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã](#–≤–∫–ª—é—á–µ–Ω–Ω—ã–µ-—Ñ–∞–π–ª—ã)
- [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å](#–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
- [–í—ã–≤–æ–¥](#–≤—ã–≤–æ–¥)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è](#–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è)

---

## ‚úÖ –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç

- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Docker (–µ—Å–ª–∏ –æ–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ–± –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µÔºö
  - [Home Assistant](httpsÔºö//www.home-assistant.io/)
  - [Homebridge](httpsÔºö//homebridge.io/)
- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ —Ç–æ–º–∞–º–∏

---

## üìÅ –í–∫–ª—é—á–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
inventory.friend.yml          # –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —Å —Ü–µ–ª–µ–≤—ã–º x86 —Ö–æ—Å—Ç–æ–º
playbooks/friend_setup.yml    # Playbook, –∫–æ—Ç–æ—Ä—ã–π —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏
roles/
‚îú‚îÄ‚îÄ base/                     # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ docker/                   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
‚îú‚îÄ‚îÄ homeassistant/           # Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è Home Assistant
‚îî‚îÄ‚îÄ homebridge/              # Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è Homebridge
site.yml                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ–≥–æ
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ç–∫—É `friend-setup`Ôºö**
   ```bash
   git clone --branch friend-setup httpsÔºö//github.com/SCFUCHS87/ansible.git
   cd ansible
   ```

2. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å inventory.friend.yml —Å IP –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤–∞—à–µ–π x86 –º–∞—à–∏–Ω—ãÔºö**
   ```yaml
   allÔºö
     hostsÔºö
       ha-x86Ôºö
         ansible_hostÔºö 192.168.1.123
         ansible_userÔºö –≤–∞—à–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å playbookÔºö**
   ```bash
   ansible-playbook -i inventory.friend.yml site.yml
   ```

4. **–û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ãÔºö**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Home Assistant? (yes/no)
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Homebridge? (yes/no)

---

## üßæ –í—ã–≤–æ–¥

–ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω—ã, –±—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ãÔºö

**Home Assistant**
- –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—ÉÔºö httpÔºö//–≤–∞—à-ipÔºö8123
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤Ôºö /opt/homeassistant

**Homebridge**  
- –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—ÉÔºö httpÔºö//–≤–∞—à-ipÔºö8581
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤Ôºö /opt/homebridge

–î–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞, –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker.

---

## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–°–≤–µ–∂–∞—è x86 Linux –º–∞—à–∏–Ω–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ubuntu, Debian)
- **SSH –¥–æ—Å—Ç—É–ø** —Å –≤–∞—à–µ–π —É–ø—Ä–∞–≤–ª—è—é—â–µ–π Ansible –º–∞—à–∏–Ω—ã
- **Python + Ansible** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –º–∞—à–∏–Ω–µÔºö
  ```bash
  sudo apt update && sudo apt install ansible
  ```

---

## üß© –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–í—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —ç—Ç—É –Ω–∞—Å—Ç—Ä–æ–π–∫—É, –¥–æ–±–∞–≤–∏–≤Ôºö

- **Watchtower** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **Cloudflare Tunnel** ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **Nginx Proxy Manager** ‚Äî —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏ + SSL
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å MQTT, Node-RED –∏–ª–∏ Zigbee2MQTT

---

## üí¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### üêõ –ù–∞—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—É?
[–°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–µ](httpsÔºö//github.com/SCFUCHS87/ansible/issues/new?labels=friend-setup&template=support-request.md)

### üí° –ï—Å—Ç—å –æ—Ç–∑—ã–≤?
[–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º –æ–ø—ã—Ç–æ–º](httpsÔºö//github.com/SCFUCHS87/ansible/issues/new?labels=friend-setup&template=friend-feedback.md)

### üí¨ –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã?
[–ù–∞—á–∞—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏–µ](httpsÔºö//github.com/SCFUCHS87/ansible/discussions) –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ email –Ω–∞–ø—Ä—è–º—É—é!

### üìß –ü—Ä—è–º–æ–π –∫–æ–Ω—Ç–∞–∫—Ç
–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ email? –°–≤—è–∂–∏—Ç–µ—Å—å –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è –ª—é–±—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.

---

### üêß –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ (Ubuntu, Debian, Fedora, Arch)

–≠—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–ø–µ—Ä—å —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —ÅÔºö

| –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤    | –°—Ç–∞—Ç—É—Å  | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è                                    |
|----------------|---------|-----------------------------------------------|
| Ubuntu 22.04+  | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker |
| Debian 12+     | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker |
| Fedora 38+     | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–π `dnf` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker |
| Arch Linux     | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–π `pacman` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker |

Docker –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–¥—Ö–æ–¥—è—â–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –≤–∞—à–µ–≥–æ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞Ôºö
- Ubuntu/DebianÔºö —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker
- FedoraÔºö —á–µ—Ä–µ–∑ `dnf install docker docker-compose`
- ArchÔºö —á–µ—Ä–µ–∑ `pacman -S docker`

Playbook —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∏—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å Docker.

---

### ‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Arch –∏ Fedora

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –≥—Ä—É–ø–ø–µ `docker` –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏Ôºö
  ```bash
  sudo usermod -aG docker $USER
  ```
  –ó–∞—Ç–µ–º –≤—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `newgrp docker`.

- –ï—Å–ª–∏ Ansible –Ω–µ –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å Docker –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –≤–∞–º –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏–ª–∏ —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ Docker —ÅÔºö
  ```bash
  sudo systemctl enable --now docker
  ```

---

üí¨ **–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?**
–°–≤—è–∂–∏—Ç–µ—Å—å —Å —á–µ–ª–æ–≤–µ–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –¥–∞–ª –≤–∞–º —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ issue –Ω–∞ GitHub.

---

